<script>
document.addEventListener("DOMContentLoaded", function () {

  /* ---------------- DATE ---------------- */
  const today = new Date();
  const dateEl = document.getElementById("todayDate");
  if (dateEl) {
    dateEl.innerText = "ðŸ“… " + today.toDateString();
  }

  /* ---------------- GAMES DATA ---------------- */
  const games = [
    {
      name: "RAJA-RANI MORNING",
      open: "09:40",
      close: "10:40",
      result: "257-49-379",
      link: "https://sattamatkadpboss.co/record/raja-rani-morning-panel-chart.php"
    },
    {
      name: "KARNATAKA DAY",
      open: "10:00",
      close: "11:00",
      result: "159-55-690",
      link: "https://sattamatkadpboss.co/karnataka-day-panel-chart.php"
    },
    {
      name: "KALYAN MORNING",
      open: "11:00",
      close: "12:02",
      result: "469-97-160",
      link: "https://sattamatkadpboss.co/record/kalyan-morning-penal-chart.php"
    }
    // ðŸ‘‰ other games stay SAME
  ];

  /* ---------------- RENDER GAMES ---------------- */
  const list = document.getElementById("gamesList");
  if (!list) return;

  const now = new Date();

  games.forEach(game => {
    const [oh, om] = game.open.split(":");
    const [ch, cm] = game.close.split(":");

    const openTime = new Date();
    openTime.setHours(oh, om, 0);

    const closeTime = new Date();
    closeTime.setHours(ch, cm, 0);

    // Handle midnight close
    if (closeTime < openTime) {
      closeTime.setDate(closeTime.getDate() + 1);
    }

    let status = "CLOSED";
    let liveTag = "";

    if (now >= openTime && now <= closeTime) {
      status = "LIVE";
      liveTag = `<span class="live">LIVE</span>`;
    }

    const div = document.createElement("div");
    div.className = "game-card";
    div.innerHTML = `
      <h3>${game.name} ${liveTag}</h3>
      <p><strong>${game.result}</strong></p>
      <small>(${game.open} - ${game.close})</small><br><br>
      <a href="${game.link}" target="_blank">View Result</a>
      <a class="whatsapp" href="https://wa.me/91XXXXXXXXXX" target="_blank">
        Get Free Game
      </a>
    `;

    list.appendChild(div);
  });

});
</script>
